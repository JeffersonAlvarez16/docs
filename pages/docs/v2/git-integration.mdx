import Doc from '~/components/layout/docs'
import Card from '~/components/card'
import { Image } from '~/components/media'
import Caption from '~/components/text/caption'

export const meta = {
  title: 'Git Integration',
  description:
    'How to use the ZEIT Now Git Integrations for automatic deployments from your repository.',
  editUrl: 'pages/docs/v2/git-integration.mdx',
  lastEdited: '2020-01-08T12:29:27.000Z'
}

ZEIT Now provides integrations for your [GitHub](#github), [GitLab](#gitlab), and [Bitbucket](#bitbucket) projects, allowing for **automatic deployments on every branch push** and merge to the default branch.

<Image
  src={`https://assets.zeit.co/image/upload/q_auto/front/assets/design/black-triangle.png`}
  width={540}
  height={309}
/>

The ZEIT Now Git integrations provide the following benefits:

- Deployments for every push in branches and pull/merge requests to preview changes live.
- Production domains updated for the most recent changes from the default branch.
- Instant rollbacks when reverting changes assigned to a production domain.

The easiest way to use a Git integration is to think of your **default branch as production**. Every time a pull/merge request is made to the default branch, Now will **create a unique deployment**, allowing you to **view the changes in a preview environment before merging**.

## Integrations

- [GitHub](#github)
- [GitLab](#gitlab)
- [Bitbucket](#bitbucket)

## GitHub

The Now for GitHub integration automatically deploys your GitHub projects with [ZEIT Now](/now), providing preview URLs, and automatic production domain updates.

<Image
src={`${process.env.IMAGE_ASSETS_URL}/blog/now-for-github/ci.png`}
width={581}
height={185}
/>
<Caption>Now for GitHub providing a deployment for a GitHub pull request.</Caption>

### Connecting to GitHub

ZEIT Now for GitHub directly connects with your ZEIT account and can be linked from within your [account](/account) or team settings under the "General" tab. The first section will allow you to install Now for GitHub if it is not already installed.

<Image
src={`${process.env.IMAGE_ASSETS_URL}/docs/now-for-github/github-connect.png`}
width={1448/2}
height={484/2}
/>
<Caption>The Now for GitHub installation section within the account or team general settings page.</Caption>

If you are a new user signing up, this process can also be started from within the onboarding stage.

<Image
src={`${process.env.IMAGE_ASSETS_URL}/docs/now-for-github/onboarding.png`}
width={1492/2}
height={1212/2}
/>
<Caption>The Now for GitHub installation section within the account or team onboarding.</Caption>

Clicking the **Install Now for GitHub** button will take you to GitHub where they will prompt you, if you have an account belonging to any organizations, which profile the installation should be installed with. You can pick either your GitHub account or any of the organizations you have access to.

If you are not part of any organization, you will skip straight to the repository selection.

For organizations that you have limited permissions for, GitHub will ask you to request access to install the integration. Once requested, the organization's owner will need to approve the integration.

<Image
  src={`${process.env.IMAGE_ASSETS_URL}/docs/now-for-github/profile-selection.png`}
  width={1638/2}
  height={1268/2}
/>
<Caption>The account or organization selection step on GitHub.</Caption>

With an account or organization selected, GitHub will now ask for which repositories Now for GitHub should work with. In this step you are able to allow all repositories to be deployed or an optional set of repositories.

With the GitHub profile and repositories chosen for Now for GitHub to work with, the application will be ready to start using. The next step is to prepare the repository to be deployed with ZEIT Now.

## GitLab

## Bitbucket

## Installation

To get started with a Git integration, visit the settings page in your ZEIT dashboard and click to connect the relevant integration.

You will be asked to authorize the integration and advised as to what permissions it requires before being redirected to your account dashboard.

## Adding Existing Projects

Once installed, the integration will be available to all of your repositories and projects immediately, requiring no configuration.

To select a repository or project to use with the integration, select the **New Project** dropdown from the dashboard and choose either **Import From GitHub** / **Import From GitLab** / **Import From Bitbucket** to import the project.

## Related

For more information on what to do next, we recommend the following articles:

<Card title="Using Custom Domains" href="/docs/v2/custom-domains">
  Once deployed, your projects can be assigned to a custom domain or specified
  name or your choice to give it a primary place to see the latest version of
  your application.
</Card>

<Card title="Now for GitHub" href="/docs/v2/advanced/now-for-github">
  Read more about the Now for GitHub integration and get further information on
  how it can improve your workflow.
</Card>

<Card title="Now for GitLab" href="/docs/v2/advanced/now-for-gitlab">
  Read more about the Now for GitLab integration and get further information on
  how it can improve your workflow.
</Card>

<Card title="Now for Bitbucket" href="/docs/v2/advanced/now-for-bitbucket">
  Read more about the Now for Bitbucket integration and get further information
  on how it can improve your workflow.
</Card>

export default ({ children }) => <Doc meta={meta}>{children}</Doc>

export const config = {
  amp: 'hybrid'
}
